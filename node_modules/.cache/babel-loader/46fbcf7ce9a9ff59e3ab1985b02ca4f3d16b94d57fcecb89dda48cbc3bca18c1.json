{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"text-dark text-center\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"u\", null, \"Web\", -1 /* HOISTED */);\nconst _hoisted_3 = {\n  id: \"webs\",\n  class: \"m-2 d-inline-flex\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", {\n  style: {\n    \"width\": \"25%\"\n  }\n}, [/*#__PURE__*/_createCommentVNode(\" <BaseElements\\n        :start-date=\\\"startDate\\\"\\n        :end-date=\\\"endDate\\\"\\n        @date-range-changed=\\\"updateDateRange\\\"\\n        @division-changed=\\\"updateDateRange\\\"\\n        @service-changed=\\\"updateDateRange\\\"\\n      /> \")], -1 /* HOISTED */);\nconst _hoisted_5 = {\n  style: {\n    \"width\": \"75%\"\n  },\n  class: \"d-flex flex-column\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\");\n  const _component_HeatMap = _resolveComponent(\"HeatMap\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"h2\", _hoisted_1, [_createVNode(_component_font_awesome_icon, {\n    icon: \"globe\"\n  }), _hoisted_2]), _createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_HeatMap, {\n    id: \"heatMap\",\n    style: {\n      \"width\": \"100%\"\n    },\n    \"chart-data\": $data.chartData\n  }, null, 8 /* PROPS */, [\"chart-data\"])])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","id","style","_createCommentVNode","_createElementBlock","_Fragment","_hoisted_1","_createVNode","_component_font_awesome_icon","icon","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_component_HeatMap","$data","chartData"],"sources":["/Users/rashmee/Desktop/usagm/heatmap/src/components/WebTab.vue"],"sourcesContent":["<template>\n  <h2 class=\"text-dark text-center\">\n    <font-awesome-icon icon=\"globe\" /><u>Web</u>\n  </h2>\n  <div id=\"webs\" class=\"m-2 d-inline-flex\">\n    <div style=\"width: 25%\">\n      <!-- <BaseElements\n        :start-date=\"startDate\"\n        :end-date=\"endDate\"\n        @date-range-changed=\"updateDateRange\"\n        @division-changed=\"updateDateRange\"\n        @service-changed=\"updateDateRange\"\n      /> -->\n    </div>\n    <div style=\"width: 75%\" class=\"d-flex flex-column\">\n      <HeatMap id=\"heatMap\" style=\"width: 100%\" :chart-data=\"chartData\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport moment from \"moment\";\n// import BaseElements from \"./BaseElements\";\nimport HeatMap from \"./WebTab/HeatMap.vue\";\n\nexport default {\n  components: { HeatMap },\n  data() {\n    return {\n      startDate: moment().subtract(1, \"month\").format(\"YYYY-MM-DD\"),\n      endDate: moment().format(\"YYYY-MM-DD\"),\n      divSelected: [],\n      serviceSelected: [],\n      chartData: [],\n    };\n  },\n  watch: {\n    startDate(newStartDate) {\n      this.loadData(\n        newStartDate,\n        this.endDate,\n        this.divSelected,\n        this.serviceSelected\n      );\n    },\n    endDate(newEndDate) {\n      this.loadData(\n        this.startDate,\n        newEndDate,\n        this.divSelected,\n        this.serviceSelected\n      );\n    },\n    divSelected(newDivSelected) {\n      this.loadData(\n        this.startDate,\n        this.endDate,\n        newDivSelected,\n        this.serviceSelected\n      );\n    },\n    serviceSelected(newServiceSelected) {\n      this.loadData(\n        this.startDate,\n        this.endDate,\n        this.divSelected,\n        newServiceSelected\n      );\n    },\n  },\n  methods: {\n    updateDateRange({ startDate, endDate, divSelected, serviceSelected }) {\n      this.startDate = startDate;\n      this.endDate = endDate;\n      this.divSelected = divSelected;\n      this.serviceSelected = serviceSelected;\n      this.loadData(\n        this.startDate,\n        this.endDate,\n        this.divSelected,\n        this.serviceSelected\n      );\n    },\n    loadData(startDate, endDate, divSelected, serviceSelected) {\n      const baseURL =\n        window.location.hostname === \"localhost\"\n          ? \"http://localhost:3001/api\"\n          : \"https://opr-voa.azurewebsites.net/api\";\n      if (!baseURL) {\n        console.error(\"VUE_APP_API_BASE_URL is not defined\");\n        return;\n      }\n      const url = `${baseURL}/web?startDate=${moment(startDate).format(\n        \"YYYY-MM-DD\"\n      )}&endDate=${moment(endDate).format(\"YYYY-MM-DD\")}`;\n      console.log(url);\n      this.axios\n        .get(url)\n        .then((response) => {\n          if (divSelected.length === 0 && serviceSelected.length === 0)\n            this.chartData = response.data;\n          else {\n            const filteredData = response.data.filter(\n              (rd) =>\n                divSelected.includes(rd.division) &&\n                serviceSelected.includes(rd.service)\n            );\n            this.chartData = filteredData;\n          }\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n  },\n  created() {\n    this.loadData(\n      this.startDate,\n      this.endDate,\n      this.divSelected,\n      this.serviceSelected\n    );\n  },\n};\n</script>\n\n<style>\n/* Add your component-specific styles here */\n</style>\n"],"mappings":";;EACMA,KAAK,EAAC;AAAuB;gCACGC,mBAAA,CAAU,WAAP,KAAG;;EAErCC,EAAE,EAAC,MAAM;EAACF,KAAK,EAAC;;gCACnBC,mBAAA,CAQM;EARDE,KAAkB,EAAlB;IAAA;EAAA;AAAkB,I,aACrBC,mBAAA,6OAMM,C;;EAEHD,KAAkB,EAAlB;IAAA;EAAA,CAAkB;EAACH,KAAK,EAAC;;;;;uBAdlCK,mBAAA,CAAAC,SAAA,SACEL,mBAAA,CAEK,MAFLM,UAEK,GADHC,YAAA,CAAkCC,4BAAA;IAAfC,IAAI,EAAC;EAAO,IAAGC,UAAU,C,GAE9CV,mBAAA,CAaM,OAbNW,UAaM,GAZJC,UAQM,EACNZ,mBAAA,CAEM,OAFNa,UAEM,GADJN,YAAA,CAAoEO,kBAAA;IAA3Db,EAAE,EAAC,SAAS;IAACC,KAAmB,EAAnB;MAAA;IAAA,CAAmB;IAAE,YAAU,EAAEa,KAAA,CAAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}