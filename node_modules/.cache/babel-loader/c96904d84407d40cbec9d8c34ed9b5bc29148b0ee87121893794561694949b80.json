{"ast":null,"code":"import \"bootstrap/dist/css/bootstrap.min.css\";\nimport moment from \"moment\";\nimport BaseElements from \"./BaseElements\";\nimport TotalsTrends from \"./FacebookTab/TotalsTrends.vue\";\nimport AreaChart from \"./FacebookTab/AreaChart.vue\";\nimport PackedBubble from \"./FacebookTab/PackedBubble.vue\";\nimport HeatMap from \"./FacebookTab/HeatMap.vue\";\n// import ScatterPlot from \"./FacebookTab/ScatterPlot.vue\";\nimport StackedBar from \"./FacebookTab/StackedBar.vue\";\nimport NegativeColumns from \"./FacebookTab/NegativeColumns.vue\";\nimport AgGridVue from \"./FacebookTab/AgGridVue.vue\";\nexport default {\n  components: {\n    BaseElements,\n    TotalsTrends,\n    AreaChart,\n    PackedBubble,\n    HeatMap,\n    StackedBar,\n    NegativeColumns,\n    AgGridVue\n  },\n  data() {\n    return {\n      startDate: moment().subtract(1, \"month\").format(\"YYYY-MM-DD\"),\n      endDate: moment().format(\"YYYY-MM-DD\"),\n      divSelected: [],\n      serviceSelected: [],\n      chartData: []\n    };\n  },\n  watch: {\n    startDate(newStartDate) {\n      this.loadData(newStartDate, this.endDate, this.divSelected, this.serviceSelected);\n    },\n    endDate(newEndDate) {\n      this.loadData(this.startDate, newEndDate, this.divSelected, this.serviceSelected);\n    },\n    divSelected(newDivSelected) {\n      this.loadData(this.startDate, this.endDate, newDivSelected, this.serviceSelected);\n    },\n    serviceSelected(newServiceSelected) {\n      this.loadData(this.startDate, this.endDate, this.divSelected, newServiceSelected);\n    }\n  },\n  methods: {\n    updateDateRange({\n      startDate,\n      endDate,\n      divSelected,\n      serviceSelected\n    }) {\n      this.startDate = startDate;\n      this.endDate = endDate;\n      this.divSelected = divSelected;\n      this.serviceSelected = serviceSelected;\n      this.loadData(this.startDate, this.endDate, this.divSelected, this.serviceSelected);\n    },\n    loadData(startDate, endDate, divSelected, serviceSelected) {\n      const baseURL = window.location.hostname === \"localhost\" ? \"http://localhost:3001/api\" : \"https://opr-voa.azurewebsites.net/api\";\n      if (!baseURL) {\n        console.error(\"VUE_APP_API_BASE_URL is not defined\");\n        return;\n      }\n      const url = `${baseURL}/fb?startDate=${moment(startDate).format(\"YYYY-MM-DD\")}&endDate=${moment(endDate).format(\"YYYY-MM-DD\")}`;\n      console.log(url);\n      this.axios.get(url).then(response => {\n        if (divSelected.length === 0 && serviceSelected.length === 0) this.chartData = response.data;else {\n          const filteredData = response.data.filter(rd => divSelected.includes(rd.division) && serviceSelected.includes(rd.service));\n          this.chartData = filteredData;\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    }\n  },\n  created() {\n    this.loadData(this.startDate, this.endDate, this.divSelected, this.serviceSelected);\n  }\n};","map":{"version":3,"names":["moment","BaseElements","TotalsTrends","AreaChart","PackedBubble","HeatMap","StackedBar","NegativeColumns","AgGridVue","components","data","startDate","subtract","format","endDate","divSelected","serviceSelected","chartData","watch","newStartDate","loadData","newEndDate","newDivSelected","newServiceSelected","methods","updateDateRange","baseURL","window","location","hostname","console","error","url","log","axios","get","then","response","length","filteredData","filter","rd","includes","division","service","catch","created"],"sources":["/Users/rashmee/Desktop/usagm/heatmap/src/components/FacebookTab.vue"],"sourcesContent":["<template>\n  <h2 class=\"text-dark text-center\">\n    <font-awesome-icon :icon=\"{ prefix: 'fab', iconName: 'facebook' }\" /><u\n      >Facebook</u\n    >\n  </h2>\n  <div id=\"fbs\" class=\"m-2 d-inline-flex\">\n    <div style=\"width: 25%\">\n      <BaseElements\n        :start-date=\"startDate\"\n        :end-date=\"endDate\"\n        @date-range-changed=\"updateDateRange\"\n        @division-changed=\"updateDateRange\"\n        @service-changed=\"updateDateRange\"\n      />\n    </div>\n    <div style=\"width: 75%\" class=\"d-flex flex-column\">\n      <TotalsTrends id=\"totals\" class=\"m-2\" :chart-data=\"chartData\" />\n      <hr />\n      <AreaChart id=\"splines\" :chart-data=\"chartData\" />\n      <hr />\n      <div class=\"d-flex flex-column\">\n        <div>\n          <div class=\"d-flex\">\n            <HeatMap id=\"heatMap\" style=\"width: 50%\" :chart-data=\"chartData\" />\n            <PackedBubble\n              id=\"bubbles\"\n              style=\"width: 50%\"\n              :chart-data=\"chartData\"\n            />\n          </div>\n        </div>\n        <hr />\n        <div>\n          <div class=\"d-flex\">\n            <!-- <ScatterPlot\n              id=\"scatter\"\n              style=\"width: 50%\"\n              :chart-data=\"chartData\"\n            /> -->\n            <StackedBar\n              id=\"stackedBar\"\n              style=\"width: 50%\"\n              :chart-data=\"chartData\"\n            />\n            <NegativeColumns\n              id=\"negativeCol\"\n              style=\"width: 50%\"\n              :chart-data=\"chartData\"\n            />\n          </div>\n        </div>\n      </div>\n\n      <hr />\n      <AgGridVue id=\"tbls\" class=\"m-2\" :chart-data=\"chartData\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport moment from \"moment\";\nimport BaseElements from \"./BaseElements\";\nimport TotalsTrends from \"./FacebookTab/TotalsTrends.vue\";\nimport AreaChart from \"./FacebookTab/AreaChart.vue\";\nimport PackedBubble from \"./FacebookTab/PackedBubble.vue\";\nimport HeatMap from \"./FacebookTab/HeatMap.vue\";\n// import ScatterPlot from \"./FacebookTab/ScatterPlot.vue\";\nimport StackedBar from \"./FacebookTab/StackedBar.vue\";\nimport NegativeColumns from \"./FacebookTab/NegativeColumns.vue\";\nimport AgGridVue from \"./FacebookTab/AgGridVue.vue\";\n\nexport default {\n  components: {\n    BaseElements,\n    TotalsTrends,\n    AreaChart,\n    PackedBubble,\n    HeatMap,\n    StackedBar,\n    NegativeColumns,\n    AgGridVue,\n  },\n  data() {\n    return {\n      startDate: moment().subtract(1, \"month\").format(\"YYYY-MM-DD\"),\n      endDate: moment().format(\"YYYY-MM-DD\"),\n      divSelected: [],\n      serviceSelected: [],\n      chartData: [],\n    };\n  },\n  watch: {\n    startDate(newStartDate) {\n      this.loadData(\n        newStartDate,\n        this.endDate,\n        this.divSelected,\n        this.serviceSelected\n      );\n    },\n    endDate(newEndDate) {\n      this.loadData(\n        this.startDate,\n        newEndDate,\n        this.divSelected,\n        this.serviceSelected\n      );\n    },\n    divSelected(newDivSelected) {\n      this.loadData(\n        this.startDate,\n        this.endDate,\n        newDivSelected,\n        this.serviceSelected\n      );\n    },\n    serviceSelected(newServiceSelected) {\n      this.loadData(\n        this.startDate,\n        this.endDate,\n        this.divSelected,\n        newServiceSelected\n      );\n    },\n  },\n  methods: {\n    updateDateRange({ startDate, endDate, divSelected, serviceSelected }) {\n      this.startDate = startDate;\n      this.endDate = endDate;\n      this.divSelected = divSelected;\n      this.serviceSelected = serviceSelected;\n      this.loadData(\n        this.startDate,\n        this.endDate,\n        this.divSelected,\n        this.serviceSelected\n      );\n    },\n    loadData(startDate, endDate, divSelected, serviceSelected) {\n      const baseURL =\n        window.location.hostname === \"localhost\"\n          ? \"http://localhost:3001/api\"\n          : \"https://opr-voa.azurewebsites.net/api\";\n      if (!baseURL) {\n        console.error(\"VUE_APP_API_BASE_URL is not defined\");\n        return;\n      }\n      const url = `${baseURL}/fb?startDate=${moment(startDate).format(\n        \"YYYY-MM-DD\"\n      )}&endDate=${moment(endDate).format(\"YYYY-MM-DD\")}`;\n      console.log(url);\n      this.axios\n        .get(url)\n        .then((response) => {\n          if (divSelected.length === 0 && serviceSelected.length === 0)\n            this.chartData = response.data;\n          else {\n            const filteredData = response.data.filter(\n              (rd) =>\n                divSelected.includes(rd.division) &&\n                serviceSelected.includes(rd.service)\n            );\n            this.chartData = filteredData;\n          }\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n  },\n  created() {\n    this.loadData(\n      this.startDate,\n      this.endDate,\n      this.divSelected,\n      this.serviceSelected\n    );\n  },\n};\n</script>\n\n<style>\n/* Add your component-specific styles here */\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}